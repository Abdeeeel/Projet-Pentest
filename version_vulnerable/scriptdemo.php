<?php


require_once 'config.php';

// Simule un utilisateur malveillant qui réussit à injecter du SQL
// Par exemple, une entrée utilisateur non validée dans un formulaire ou dans l'URL
$userId = $_GET['userId']; // ID de l'utilisateur cible (dans un cas réel, cela pourrait être injecté)

// Requête vulnérable à l'injection SQL
$sql = "DELETE FROM taches WHERE idu = $userId"; // Cette ligne est vulnérable à l'injection SQL

if ($conn->query($sql) === TRUE) {
    echo "Toutes les tâches de l'utilisateur ont été supprimées.";
} else {
    echo "Erreur lors de la suppression des tâches : " . $conn->error;
}

$conn->close();
?>
